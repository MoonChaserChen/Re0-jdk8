# 对象的内存结构
对象在内存中的存储可分为三块区域。
1. 对象头
    > 对象头包括以下部分
    1. MarkWord
        > 对象自身运行时数据，如：哈希码、GC分代年龄、锁状态标志、线程持有的锁、偏向线程ID、偏向时间戳
    2. 类型指针
        > 指向类元数据的指针，以便确定这个对象是哪个类的实例
    3. 数组长度
        > 如果对象是一个数组，需要记录数组长度以便虚拟机确定对象需要占用的内存大小

![32位操作系统对象头](/images/对象头-32.png)
2. 实例数据
    1. 包括从父类继承下来的字段
    2. 存储顺序
        1. 相同宽度的字段分配到一起： longs/doubles、ints、shorts/chars、bytes/booleans、oops(Ordinary Object Pointers)
        2. 满足上述条件的情况下：父类中定义的变量会出现在子类之前
            > 如果 CompactFields为true，则子类之中较窄的变量也可能会插入到父类变量的空隙中
3. 对齐填充
    > HotSpot 虚拟机要求对象的起始地址必须是8字节的整数倍